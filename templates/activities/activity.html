<div id="main-content" class="container activity">

    <div class="row">
        <div class="col-md-12">

            <div ncy-breadcrumb></div>

            <search-box></search-box>
            
            <!-- <div class="row actions">
                <div class="col-md-6 col-sm-7 filters">
                    <span class="makeblock">filters</span> 
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('budget')" ng-class="{'active': vm.isOpenedHeader('budget')}">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-pie-chart fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('sectors')" ng-class="{'active': vm.isOpenedHeader('sectors')}">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-suitcase fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('activity_status')" ng-class="{'active': vm.isOpenedHeader('activity_status')}">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-money fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('implementing_organisations')" ng-class="{'active': vm.isOpenedHeader('implementing_organisations')}">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-fire fa-stack-1x fa-inverse"></i>
                    </span>
                </div>
                <div class="col-md-6 col-sm-5 dash text-right-not-xs">
                    <span class="makeblock">dashboards</span> 
                    <span class="fa-stack fa-lg" ng-click="vm.dashboard = 'charts'">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-line-chart fa-stack-1x fa-inverse"></i>
                    </span>
                </div>
            </div>

            <tool-bar></tool-bar> -->

            <!-- <div id="tool-bar" style="position: relative">
                <div class="row">
                    
                    <div class="col-xs-12 col-sm-12 text-right">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <a ng-click="vm.showDownload()" class="fa fa-download fa-stack-1x fa-inverse"></a>
                        </span>
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <a ng-click="vm.share('twitter')" class="fa fa-twitter fa-stack-1x fa-inverse"></a>
                        </span>
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <a ng-click="vm.share('linkedin')" class="fa fa-linkedin fa-stack-1x fa-inverse"></a>
                        </span>
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <a ng-click="vm.share('facebook')" class="fa fa-facebook fa-stack-1x fa-inverse"></a>
                        </span>
                    </div>
                </div>
            </div> -->


            <div class="row">
                <div class="col-xs-12">
                    <div class="rel">
                        <filter-panel-budget ng-show="vm.isOpenedHeader('budget')"></filter-panel-budget>
                        <filter-panel-sectors ng-show="vm.isOpenedHeader('sectors')"></filter-panel-sectors>
                        <filter-panel-activity-status ng-show="vm.isOpenedHeader('activity_status')"></filter-panel-activity-status>
                        <filter-panel-implementing-organisations ng-show="vm.isOpenedHeader('implementing_organisations')"></filter-panel-implementing-organisations>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="hp-block groen">
                <h3>Status activiteit</h3>
                <span class="number">{{vm.activity.activity_status.name}}</span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="hp-block roze">
                <h3>Totaal budget</h3>
                <span class="number">{{vm.activity.total_budget | currency :'€':0}}</span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="hp-block">
                <div class="row">
                    <div class="col-md-8">
                        <h1>{{vm.activity.titles[0].title}}</h1>
                        <hr>
                        <p>
                            {{vm.activity.descriptions[0].description}}
                        </p>
                    </div>
                    <div class="col-md-4">
                        <div class="project-circle" ng-repeat="country in vm.activity.countries">
                            <span class="flag-icon flag-icon-af"></span>
                            <h4>{{country.name}}</h4>
                            <p><b>Type relatie:</b> {{vm.landPartnerType}}</p>
                            <p><b>Start datum:</b> {{vm.activity.start_actual}}</p>
                            <p><b>Eind datum:</b> {{vm.activity.end_actual}}</p>
                            <a ui-sref="land({ country_id: country.code })" class="btn btn-default">Naar landen pagina</a>

                        </div>
                    </div>  
                </div>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-md-12">
            <div class="hp-block finance">
                <h3>Financieel overzicht</h3>

                <nvd3 options="vm.transactionChartOptions" data="vm.transactionData" class="with-3d-shadow with-transitions"></nvd3>

                <table class="table">
                    <thead>
                        <td>Transactie type</td>
                        <td>Verstrekkende organisatie</td>
                        <td>Ontvangende organisatie</td>
                        <td>Bedrag</td>
                        <td>Datum</td>
                    </thead>
                    <tbody>
                        <tr ng-repeat="transaction in vm.activity.transactions">
                            <td>
                                {{transaction.transaction_type}}
                            </td>
                            <td>
                                {{transaction.provider_organisation_name}}
                            </td>
                            <td>
                                {{transaction.receiver_organisation_name}}
                            </td>
                            <td>
                                {{transaction.value | currency :'€':0}}
                            </td>
                            <td>
                                {{transaction.transaction_date}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="hp-block">
                <h3>Documenten</h3>
                <div ng-show="vm.activity.documents.length == 0">
                    No documents available.
                </div>

                <table class="table">
                    <tbody>
                        <tr ng-repeat="document in vm.activity.documents">
                            
                            <td>
                                <a href="{{document.url}}">
                                    <i class="glyphicon glyphicon-download-alt"></i>
                                    {{document.title}}
                                </a>
                            </td>
                            
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-md-12 text-center">
            <!-- <div style="text-align: center;margin-bottom: 40px;cursor: pointer;" ng-click="vm.showDetails = true">
                <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <a ng-click="vm.toggleSelection()" class="fa fa-align-justify fa-stack-1x fa-inverse"></a>
                </span>

                <h3>toon alle IATI informatie van deze activiteit</h3>
            </div> -->
            <h3 style="margin-bottom:20px;">Beta versie. Binnenkort meer IATI informatie beschikbaar.</h3>
        </div>
    </div>

   <!--  <div class="row" ng-show="vm.showDetails == true">
        <div class="col-md-12">
            <div class="hp-block">
                <table class="table">
                    <tbody>
                        <tr ng-repeat="(key, value) in vm.activity">
                            <td>
                                {{key}}
                            </td>
                            <td>
                                {{value}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div> -->
</div>


