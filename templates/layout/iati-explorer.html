<div id="main-content" class="container">
    <div class="row">
        <div class="col-md-12">

            <div ncy-breadcrumb></div>

        	<search-box></search-box>

            <div class="row actions">
                <div class="col-md-6 col-sm-7 filters">
                    <span class="makeblock">filters</span> 
                    <span 
                        class="fa-stack fa-lg" 
                        ng-click="vm.toggleOpenPanel('recipient_countries')" 
                        ng-class="{'active': vm.isOpenedHeader('recipient_countries')}"
                        ng-mouseover="vm.hoverIn('recipient_countries')" 
                        ng-mouseleave="vm.hoverOut('recipient_countries')">
                      <div 
                        class="glyphicon-popup" 
                        ng-show="vm.buttonTexts['recipient_countries'].hoverShow" 
                        ng-bind-html="vm.currentHoverText"></div>
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-map-marker fa-stack-1x fa-inverse"></i>
                    </span>

                    <span class="fa-stack fa-lg" 
                    ng-click="vm.toggleOpenPanel('recipient_regions')" 
                    ng-class="{'active': vm.isOpenedHeader('recipient_regions')}"
                    ng-mouseover="vm.hoverIn('recipient_regions')" 
                    ng-mouseleave="vm.hoverOut('recipient_regions')">
                        <div 
                            class="glyphicon-popup" 
                            ng-show="vm.buttonTexts['recipient_regions'].hoverShow" 
                            ng-bind-html="vm.currentHoverText"></div>

                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="ic ic-globe fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('budget')" ng-class="{'active': vm.isOpenedHeader('budget')}"
                        ng-mouseover="vm.hoverIn('recipient_budget')" 
                        ng-mouseleave="vm.hoverOut('recipient_budget')">
                        <div 
                        class="glyphicon-popup" 
                        ng-show="vm.buttonTexts['recipient_budget'].hoverShow" 
                        ng-bind-html="vm.currentHoverText"></div>

                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-pie-chart fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('sectors')" ng-class="{'active': vm.isOpenedHeader('sectors')}"
                        ng-mouseover="vm.hoverIn('recipient_sectors')" 
                        ng-mouseleave="vm.hoverOut('recipient_sectors')">
                        <div 
                        class="glyphicon-popup" 
                        ng-show="vm.buttonTexts['recipient_sectors'].hoverShow" 
                        ng-bind-html="vm.currentHoverText"></div>

                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-suitcase fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('activity_status')" ng-class="{'active': vm.isOpenedHeader('activity_status')}"
                        ng-mouseover="vm.hoverIn('recipient_activity_status')" 
                        ng-mouseleave="vm.hoverOut('recipient_activity_status')">
                      <div 
                        class="glyphicon-popup" 
                        ng-show="vm.buttonTexts['recipient_activity_status'].hoverShow" 
                        ng-bind-html="vm.currentHoverText"></div>

                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-money fa-stack-1x fa-inverse"></i>
                    </span>
                    <span class="fa-stack fa-lg" ng-click="vm.toggleOpenPanel('implementing_organisations')" ng-class="{'active': vm.isOpenedHeader('implementing_organisations')}"
                        ng-mouseover="vm.hoverIn('recipient_implementing_organisations')" 
                        ng-mouseleave="vm.hoverOut('recipient_implementing_organisations')">
                      <div 
                        class="glyphicon-popup" 
                        ng-show="vm.buttonTexts['recipient_implementing_organisations'].hoverShow" 
                        ng-bind-html="vm.currentHoverText"></div>

                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-fire fa-stack-1x fa-inverse"></i>
                    </span>
                </div>
                <div class="col-md-6 col-sm-5 dash text-right-not-xs">
                    <span class="makeblock">dashboards</span> 
                    <a class="fa-stack fa-lg" ui-sref="iati-explorer">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-line-chart fa-stack-1x fa-inverse"></i>
                    </a>
                    <a class="fa-stack fa-lg" ui-sref="iati-explorer-map">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="ic ic-map fa-stack-1x fa-inverse"></i>
                    </a>
                    <a class="fa-stack fa-lg" ui-sref="iati-explorer-list">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-list-ul fa-stack-1x fa-inverse"></i>
                    </a>
                </div>
            </div>
            
            <tool-bar></tool-bar>

            <div class="row">
                <div class="col-xs-12">
                    <div class="rel">
                        <filter-panel-recipient-countries ng-show="vm.isOpenedHeader('recipient_countries')"></filter-panel-recipient-countries>
                        <filter-panel-recipient-regions ng-show="vm.isOpenedHeader('recipient_regions')"></filter-panel-recipient-regions>
                        <filter-panel-budget ng-show="vm.isOpenedHeader('budget')"></filter-panel-budget>
                        <filter-panel-sectors ng-show="vm.isOpenedHeader('sectors')"></filter-panel-sectors>
                        <filter-panel-activity-status ng-show="vm.isOpenedHeader('activity_status')"></filter-panel-activity-status>
                        <filter-panel-implementing-organisations ng-show="vm.isOpenedHeader('implementing_organisations')"></filter-panel-implementing-organisations>
                    </div>
                </div>
            </div>

            <oipa-total-figures-chart aggregation-filters='vm.selectionString'></oipa-total-figures-chart>

        	<div class="row" ng-show="vm.dashboard == 'charts'">

        		<div class="col-md-6">
                    <div class="hp-block explore">
                        <div class="explore-block-header">Totaal aantal activiteiten</div>
                        <div class="explore-block-content">
                            <oipa-line-chart 
                                aggregation-filters='vm.selectionString' 
                                group-by='start_actual' 
                                group-by-id='start_actual_year' 
                                group-by-name='start_actual_year' 
                                aggregation-key='iati-identifier' 
                                aggregation-key-id='activity_count' 
                                chart-x-axis='' 
                                chart-y-axis=''
                                chart-type='discreteBarChart'
                                axis-label-distance='0'
                                left-margin='40'></oipa-line-chart>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="hp-block explore">
                        <div class="explore-block-header">Totaal budget op basis van de zoekresulaten</div>
                        <div class="explore-block-content">
                            <oipa-line-chart 
                                aggregation-filters='vm.selectionString' 
                                group-by='transaction_date_year' 
                                group-by-id='transaction_date_year' 
                                group-by-name='transaction_date_year' 
                                aggregation-key='disbursement' 
                                aggregation-key-id='total_disbursements' 
                                chart-x-axis='' 
                                chart-y-axis=''
                                chart-type='discreteBarChart'
                                axis-label-distance='46'
                                left-margin='90'></oipa-line-chart>
                        </div>
                    </div>
                </div>

        		<div class="col-md-6">
                    <div class="hp-block explore">
                        <div class="explore-block-header">Uitgaven  per landenprofiel</div>
                        <div class="explore-block-content">
                            <oipa-line-chart 
                                aggregation-filters='vm.selectionString' 
                                group-by='recipient-country' 
                                group-by-id='country_id' 
                                group-by-name='name' 
                                aggregation-key='disbursement' 
                                aggregation-key-id='total_disbursements' 
                                chart-x-axis='' 
                                chart-y-axis=''
                                chart-type='discreteBarChart'
                                mapping='partnerlanden'
                                axis-label-distance='46'
                                color-range='true'
                                left-margin='100'></oipa-line-chart>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="hp-block explore">
                        <div class="explore-block-header">Aangegane verplichting per landenprofiel</div>
                        <div class="explore-block-content">
                            <oipa-line-chart 
                                aggregation-filters='vm.selectionString' 
                                group-by='recipient-country' 
                                group-by-id='country_id' 
                                group-by-name='name' 
                                aggregation-key='commitment' 
                                aggregation-key-id='total_commitments' 
                                chart-x-axis='' 
                                chart-y-axis=''
                                chart-type='discreteBarChart'
                                mapping='partnerlanden' 
                                axis-label-distance='46' 
                                color-range='true'
                                left-margin='100'></oipa-line-chart>
                        </div>
                    </div>
                </div>

        	</div>

            <div class="row" ng-show="vm.dashboard == 'geomap'">
                <div class="col-md-12">
                    <explore-geo-map></explore-geo-map>
                </div>
            </div>

            <div class="row" ng-show="vm.dashboard == 'list'">
                <div class="col-md-12">
                    <activity-list></activity-list>
                </div>
            </div>
  
        </div>
    </div>
    
</div>
